!function(a){a.fn.simpleModalWindow=function(e){var i=a.extend({modalName:"modal-win",modalInnerName:"modal-win-inner",modalBgName:"modal-bg",modalChangeName:"modal-move",modalCloseName:"modal-close",spd:500,bgAlpha:.75},e),d=a(window),n=a("body"),o=a('<div id="'+i.modalBgName+'"></div>');o.css("opacity","0"),a(this).on("click",function(){function e(a){var e=a.outerWidth(),d=a.outerHeight(),n=(m-d)/2+t;o.animate({opacity:i.bgAlpha},i.spd),p.css("top",n+"px"),r.css({width:e,height:d}).animate({opacity:"1"},i.spd)}var t=d.scrollTop(),m=d.height(),l=a(this).attr("href"),c=l.match(/^#.+/),p=a('<div id="'+i.modalName+'"><div id="'+i.modalInnerName+'"></div></div>'),r=p.find("#"+i.modalInnerName);if(r.css("opacity","0"),n.append(p),p.prepend(o),c){var s=a(l);r.append(s),s.css({display:"block",zIndex:"101"}),e(s)}else{r.append('<img src="'+l+'" alt="" />');var h=p.find("img");h.on("load",function(){e(h)})}return!1}),a(document).on("click","."+i.modalChangeName,function(){var e=d.scrollTop(),t=d.height(),m=a(this).attr("href"),l=m.match(/^#.+/),c=a("#"+i.modalName),p=c.find("#"+i.modalInnerName);return l&&p.animate({opacity:"0"},i.spd,function(){var d=a(this).children();n.append(d),d.hide();var l=a(m);p.append(l),l.css({display:"block",zIndex:"101"});var r=l.outerWidth(),s=l.outerHeight(),h=(t-s)/2+e;o.animate({opacity:i.bgAlpha},i.spd),c.css("top",h+"px"),p.css({width:r,height:s}).animate({opacity:"1"},i.spd)}),!1}),a(document).on("click","#"+i.modalBgName+", ."+i.modalCloseName,function(){var e=a("#"+i.modalName),d=e.find("#"+i.modalInnerName),t=d.children();return d.animate({opacity:"0"},i.spd,function(){t.attr("id")&&(n.append(t),t.hide()),e.remove()}),o.animate({opacity:"0"},i.spd),!1})}}(jQuery);